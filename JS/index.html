<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>JS Tutorial</h1>
    <div id="myE1"> Hello World!</div>

    <button id="myButton">Click Me</button>
    <ul id="myList">
        <li>Item 1</li>
        <li>Item 2</li>
        <li>Item 3</li>
    </ul>

    <div id="outer">
        <div id="inner">
            <button id="myButton2">Click Me</button>
        </div>
    </div>
   
    <script>
        // let person = {
        //     name: 'John',
        //     hobbies: ["Teaching", "Football","Programing"],
        //     age : 25,
        //     greet : function(){
        //         console.log("Name: " + this.name);
        //     },
        // };

        // var prpertyName = 'age';

        // console.log(person.name);
        // console.log(person.hobbies[1]);
        // console.log(person.age);
        // //console.log(person[age]);
        // person.greet();

        // var button = document.getElementById('myList');
        // button.addEventListener('click', handleClick);

        // function handleClick(event){
        //    // alert("button clicked");
        //    var target = event.target;
        //    console.log("target: " + target.textContent);

        //     console.log("Event Type: " + event.type);
        //     console.log("Target element: ", event.target);
        // }

        //<---------------------------------------->

        // var outer = document.getElementById("outer");
        // var inner = document.getElementById("inner");
        // var button = document.getElementById("myButton2");

        // outer.addEventListener("click", handleBubbling, true);
        // inner.addEventListener("click", handleBubbling, true);
        // button.addEventListener("click", handleBubbling, true);

        // function handleBubbling(event){
        //     console.log("Bubbling : " + this.id);
        // }

        //<------------------------------------------>

        // var globalVar = "global";
        // var outerVar = "outer"

        // function outerFunc(outerParam) {
        //     function innerFunc(innerParam) {
        //         console.log(globalVar, outerParam, innerParam);
        //     }
        //     return innerFunc;
        // }

        // const x = outerFunc(outerVar);
        // outerVar = "outer-2";
        // globalVar = "guess"
        // x("inner");


        // const arrFuncs = [];
        // for(var i = 0; i < 5; i++){
        // arrFuncs.push(function (){
        //     return i;
        // });
        // }
        // console.log(i); // i is 5

        // for (let i = 0; i < arrFuncs.length; i++) {
        // console.log(arrFuncs[i]()); // all logs "5"
        // }


        // //Interview Aisensy
        // function fn(count = 0) {
        // // Return a function that increments the count
        // return function(arg) {
        //     if (arg !== undefined) {
        //     // If the function is called with an argument, return the count
        //     console.log(count+1);
        //     return count+1;
        //     } else {
        //     // Otherwise, return a new function with the incremented count
        //     return fn(count + 1);
        //     }
        //     };
        // }

        // // Test the function
        // fn()()()(0); // Should print 3


        //<---------------------------------------------------->


        // console.log("start");

        // setTimeout(function(){
        //     console.log("I am not stopping anything");
        // }, 5000);

        // console.log("not blocked");


        // console.log("start");

        // setInterval(function(){
        //     console.log("I am not stopping anything");
        // }, 5000);

        // console.log("not blocked");

        // // <------------------------------------------>
        // //Callback function example
        // // global variable
        // var allUserData = [];

        // // generic logStuff function that prints to console - this will be used as a callback function
        // function logStuff(userData) {
        // if (typeof userData === "string") {
        //     console.log(userData);
        // } else if (typeof userData === "object") {
        //     for (var item in userData) {
        //     console.log(item + ": " + userData[item]);
        //     }
        // }
        // }

        // // A function that takes two parameters, the last one a callback function
        // function getInput(options, callback) {
        // allUserData.push(options);
        // callback(options);
        // }

        // // When we call the getInput function, we pass logStuff as a parameter.
        // // So logStuff will be the function that will called back (or executed) inside the getInput function
        // getInput({ name: "Rich", speciality: "JavaScript" }, logStuff);
        // //  name: Rich
        // // speciality: JavaScript

        // //Example2

        // done = () => { 
        //     console.log("Done From Callback");
        // };

        // printNum = (num, callback) => {
        //     for(let i = 0; i <= num; i++){
        //         console.log(i);
        //     }
        //     if(callback && typeof callback === "function"){
        //         callback();
        //     }
        // };

        // printNum(5,done);

        // addTwoArgs = (a, b, callback) => {
        // if (callback && typeof callback === "function") {
        //         return callback();
        //     }
        // };

        // let result = addTwoArgs(2, 5, () => {
        //     return 2 + 5;
        // });

        // console.log(result);




        // <------------------------------------------>


        /*
        
        const promise = new Promise(function (resolve, reject) { //resolve = f(), reject = f()
        const string1 = "geeksforgeeks";
        const string2 = "geeksforgeeks";
        if (string1 === string2) {
            resolve();
        } else {
            reject();
        }
        });
    
        promise
            .then(function () {
                console.log("Promise resolved successfully");
            })
            .catch(function () {
                console.log("Promise is rejected");
            });
        */
       /*

        const helperPromise = () => {
        const promise = new Promise(function (resolve, reject) {
            const x = "geeksforgeeks";
            const y = "geeksforgeeks";
            if (x === y) {
                resolve("Strings are same");
            } else {
                reject("Strings are not same");
            }
        });
    
        return promise;
    };
    
    async function demoPromise() {
        try {
            let message = await helperPromise();
            console.log(message);
        } catch (error) {
            console.log("Error: " + error);
        }
    }
    
    demoPromise();
    */
/*
    const fetchData = () => new Promise((resolve, reject) => {
            setTimeout(() => {
                resolve("Data has been fetched");
            }, 5000);
        });

    async function doSomethingAsync() {
        try {
            const result = await fetchData();
            console.log(result);
        } catch (error) {
            console.log("Error: "+ error);
        }
    }

    doSomethingAsync();
*/

/*
const promise = new Promise(function (resolve, reject) {
    const string1 = "geeksforgeeks";
    const string2 = "geeksforges";
    if (string1 === string2) {
        resolve("String is same");
    } else {
        reject("String is diffrent");
    }
});


// using arrow function
promise
    .then((res) => {
        console.log(res);
    })
    .catch((error) => {
        console.log(error);
    });
 
    // using normal
// promise
//     .then(function () {
//         console.log("Promise resolved successfully");
//     })
//     .catch(function () {
//         console.log("Promise is rejected");
//     });

*/


/*
    const helperPromise = function(){
        const promise = new Promise(function(resolve,reject){
            const s1 = "Computer";
            const s2 = "Computer";

            if(s1 === s2){
                resolve("String is same"); // passing the message as return
            } else {
                reject("String is diffrent");
            }
        });

        return promise; // contaning the message as return either resolve or reject
        //if fulfillment the promise contain promise : Promise {<fulfilled>: 'String is same'}
        // if promise is rejected -> promise : Promise {<rejected>: 'String is diffrent'}
    };

    async function demoPromise(){
        try {
            let message = await helperPromise();
            console.log(message);
        } catch (error) {
            console.log("Error : "+error);
        }
    }

    demoPromise();

    */

    /*

    const helperPromise = () => {
        const promise = new Promise((resolve,reject) => {
            const s1 = "Computer";
            const s2 = "Computr";

            if(s1 === s2){
                resolve(); //desnot have ant message
            } else {
                reject();
            }
        });

        return promise; 
        // if fulfillment the promise contain -> promise : Promise {<fulfilled>: undefined}
        // if promise is rejected -> promise : Promise {<rejected>: undefined}
    };

    const demoPromise = async() => {
        try {
            await helperPromise();
            console.log("String is same");
        } catch (error) {
            console.log("String is not same");
        }
    }

    demoPromise();

    */

    /*
    const delay = (ms)=>{
        return new Promise((resolve,reject) => {
            setTimeout(()=>{
                console.log("Running for : " + ms + " ms");
                resolve();
            }, ms);
        });
    }

    const greet = async() => {
        console.log("Starting . . . ");

        delay(2000);
        console.log("Not Blocked");

        await delay(1000);
        console.log("Blocked");
    }


    greet();
*/

/*
// we can use async without await
    async function doSomething() {
        console.log("Inside the async");
        return "Done";
    }

    const result = doSomething();
    console.log(result);

    */

/*
// await keyword cannot be used without async keyword
    function doSomethingAsyncTask() {
        console.log("Starting...");
        
        try{
            await delay(1000); //Uncaught SyntaxError: await is only valid in async functions and the top level bodies of modules (at index.html:403:13)
            console.log("Test");
        } catch (erroe){
            console.error(error.message);
        }
    }

    const result = doSomething();
    console.log(result);
*/

    const fetchData = async ()=> {
        try{
            const response = await fetch("https://fakestoreapi.com/products");

            if(!response.ok){
                throw new Error("Request failed");
            }

            const data = await response.json();
            return data;
        } catch (error) {
            console.error("Error : ", error);
            throw error;
        }
    }

    const processData = async () => {
        try{
            const result = await fetchData();
            console.log(result);
        } catch (error) {
            console.error("Error : ", error);
            throw error;
        }
    }


    processData();


    </script>
    <!-- <script src="App.js"></script> -->
</body>
</html>